{"version":3,"sources":["index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","root","noop","bind","fn","thisArg","apply","arguments","Promise","this","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","push","_immediateFn","cb","onFulfilled","onRejected","resolve","reject","promise","ret","newValue","then","finale","_unhandledRejectionFn","len","Handler","done","value","reason","ex","setTimeoutFunc","setTimeout","prototype","prom","all","arr","args","Array","slice","res","val","remaining","constructor","race","values","setImmediate","err","console","warn","_setImmediateFn","_setUnhandledRejectionFn","2","init","config","reveal","offset","elements","window","addEventListener","util","forEachElement","document","getElementsByClassName","el","element","dataset","revealOffset","throttle","checkForRevealElements","getBoundingClientRect","top","innerHeight","classList","add","parseFloat","./../common/util","3","callback","limit","wait","debounce","func","immediate","timeout","context","later","callNow","clearTimeout","array","arrayLength","addEventListenerToElements","eventName","4","promise-polyfill","5","./common/reveal","./config/config"],"mappings":"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","file":"index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (root) {\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function noop() {}\n  \n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function () {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  function Promise(fn) {\n    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function') throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    Promise._immediateFn(function () {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (newValue instanceof Promise) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      Promise._immediateFn(function() {\n        if (!self._handled) {\n          Promise._unhandledRejectionFn(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(function (value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      }, function (reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      });\n    } catch (ex) {\n      if (done) return;\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new (this.constructor)(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise.all = function (arr) {\n    var args = Array.prototype.slice.call(arr);\n\n    return new Promise(function (resolve, reject) {\n      if (args.length === 0) return resolve([]);\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(val, function (val) {\n                res(i, val);\n              }, reject);\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && typeof value === 'object' && value.constructor === Promise) {\n      return value;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n      for (var i = 0, len = values.length; i < len; i++) {\n        values[i].then(resolve, reject);\n      }\n    });\n  };\n\n  // Use polyfill for setImmediate for performance gains\n  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n    function (fn) {\n      setTimeoutFunc(fn, 0);\n    };\n\n  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  /**\n   * Set the immediate function to execute callbacks\n   * @param fn {function} Function to execute\n   * @deprecated\n   */\n  Promise._setImmediateFn = function _setImmediateFn(fn) {\n    Promise._immediateFn = fn;\n  };\n\n  /**\n   * Change the function to execute on unhandled rejection\n   * @param {function} fn Function to execute on unhandled rejection\n   * @deprecated\n   */\n  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n    Promise._unhandledRejectionFn = fn;\n  };\n  \n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Promise;\n  } else if (!root.Promise) {\n    root.Promise = Promise;\n  }\n\n})(this);\n\n},{}],2:[function(require,module,exports){\nvar util = require('./../common/util'),\r\n\treveal = {};\r\n\r\nmodule.exports = {\r\n\tinit: init\r\n};\r\n\r\nfunction init(config) {\r\n\tif (config) {\r\n\t\treveal.offset = config.offset || 0\r\n\t}\r\n\r\n\treveal.elements = [];\r\n\twindow.addEventListener('load', function () {\r\n\t\tutil.forEachElement(document.getElementsByClassName('reveal'),\r\n\t\t\tfunction(el) {\r\n\t\t\t\treveal.elements.push({\r\n\t\t\t\t\telement: el,\r\n\t\t\t\t\toffset: el.dataset.revealOffset || reveal.offset\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\twindow.addEventListener('scroll', util.throttle(checkForRevealElements, 150));\r\n\t\tcheckForRevealElements();\r\n\t});\r\n}\r\n\r\nfunction checkForRevealElements() {\r\n\tutil.forEachElement(reveal.elements, function (el) {\r\n\t\tvar coords = el.element.getBoundingClientRect();\r\n\t\t// if element is visible\r\n\t\tif (el.element.getBoundingClientRect().top <= window.innerHeight) {\r\n\t\t\t// check if user set an offset\r\n\t\t\tif(el.offset) {\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tel.element.classList.add('is-revealed');\r\n\t\t\t\t}, parseFloat(el.offset) * 1000)\r\n\t\t\t} else {\r\n\t\t\t\tel.element.classList.add('is-revealed');\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\n},{\"./../common/util\":3}],3:[function(require,module,exports){\nmodule.exports = {\r\n\tthrottle: throttle,\r\n\tdebounce: debounce,\r\n\tforEachElement: forEachElement,\r\n\taddEventListenerToElements: addEventListenerToElements\r\n};\r\n\r\nfunction throttle (callback, limit) {\r\n\tvar wait = false;\r\n\treturn function () {\r\n\t\tif (!wait) {\r\n\t\t\tcallback.call();\r\n\t\t\twait = true;\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\twait = false;\r\n\t\t\t}, limit);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n\tvar timeout;\r\n\treturn function() {\r\n\t\tvar context = this, args = arguments;\r\n\t\tvar later = function() {\r\n\t\t\ttimeout = null;\r\n\t\t\tif (!immediate) func.apply(context, args);\r\n\t\t};\r\n\t\tvar callNow = immediate && !timeout;\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t\tif (callNow) func.apply(context, args);\r\n\t};\r\n}\r\n\r\nfunction forEachElement(array, callback) {\r\n\tvar arrayLength = array.length;\r\n\tfor (var i = 0; i < arrayLength; i++) {\r\n\t\tcallback(array[i], i, array);\r\n\t}\r\n}\r\n\r\nfunction addEventListenerToElements(elements, eventName, callback) {\r\n\r\n}\r\n\n},{}],4:[function(require,module,exports){\nrequire('promise-polyfill');\n},{\"promise-polyfill\":1}],5:[function(require,module,exports){\nrequire('./config/config');\r\n\r\nvar reveal = require('./common/reveal');\r\n\r\nreveal.init({\r\n\toffset: 0.1\r\n});\n},{\"./common/reveal\":2,\"./config/config\":4}]},{},[5]);\n"],"sourceRoot":"/source/"}